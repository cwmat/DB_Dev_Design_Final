60-SQL> 
60-SQL> 
60-SQL> -- ******************************************************
60-SQL> --    QUALITY CONTROLS
60-SQL> --
60-SQL> -- Note:  Tests TODO
60-SQL> -- ******************************************************
60-SQL> 
60-SQL> /* Check column constraints */
60-SQL> -- View columns with value constraints
60-SQL> SELECT table_name, constraint_name, search_condition  FROM
  2  user_constraints WHERE constraint_type='C' ORDER BY table_name;

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
COMMENT_LOG                                                                     
SYS_C00489119                                                                   
"USER_ID" IS NOT NULL                                                           
                                                                                
COMMENT_LOG                                                                     
SYS_C00489118                                                                   
"COMMENT_ID" IS NOT NULL                                                        

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
COMMENT_LOG                                                                     
SYS_C00489121                                                                   
"COMMENT_DESC" IS NOT NULL                                                      
                                                                                
COMMENT_LOG                                                                     
SYS_C00489120                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"FIPS_CODE" IS NOT NULL                                                         
                                                                                
SMELLSCAPE                                                                      
SYS_C00489101                                                                   
"FIPS_CODE" IS NOT NULL                                                         
                                                                                
SMELL_MAGNITUDE                                                                 

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00489097                                                                   
"MAGNITUDE_DESCRIPTION" IS NOT NULL                                             
                                                                                
SMELL_MAGNITUDE                                                                 
SYS_C00489096                                                                   
"MAGNITUDE_ID" IS NOT NULL                                                      
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SMELL_MAGNITUDE                                                                 
SYS_C00489098                                                                   
"MAGNITUDE_WEIGHT" IS NOT NULL                                                  
                                                                                
SMELL_MAGNITUDE                                                                 
RG_SMELL_MAGNITUDE                                                              
magnitude_id BETWEEN '01' AND '10'                                              

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
SMELL_PROFILE                                                                   
SYS_C00489109                                                                   
"MAGNITUDE_ID" IS NOT NULL                                                      
                                                                                
SMELL_PROFILE                                                                   
SYS_C00489108                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"TYPE_ID" IS NOT NULL                                                           
                                                                                
SMELL_PROFILE                                                                   
SYS_C00489107                                                                   
"LONGITUDE" IS NOT NULL                                                         
                                                                                
SMELL_PROFILE                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00489106                                                                   
"LATITUDE" IS NOT NULL                                                          
                                                                                
SMELL_PROFILE                                                                   
SYS_C00489105                                                                   
"USER_ID" IS NOT NULL                                                           
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SMELL_PROFILE                                                                   
SYS_C00489104                                                                   
"FIPS_CODE" IS NOT NULL                                                         
                                                                                
SMELL_PROFILE                                                                   
RG_SMELL_MAGNITUDE_PROFILE                                                      
magnitude_id BETWEEN '01' AND '10'                                              

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
SMELL_PROFILE                                                                   
RG_SMELL_TYPE_PROFILE                                                           
type_id BETWEEN '01' AND '03'                                                   
                                                                                
SMELL_TYPE                                                                      
SYS_C00489092                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"TYPE_ID" IS NOT NULL                                                           
                                                                                
SMELL_TYPE                                                                      
RG_SMELL_TYPE                                                                   
type_id BETWEEN '01' AND '03'                                                   
                                                                                
SMELL_TYPE                                                                      

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00489093                                                                   
"TYPE_DESCRIPTION" IS NOT NULL                                                  
                                                                                
SUBSCRIPTION_LOG                                                                
SYS_C00489125                                                                   
"SUBSCRIPTION_ID" IS NOT NULL                                                   
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SUBSCRIPTION_LOG                                                                
SYS_C00489127                                                                   
"FIPS_CODE" IS NOT NULL                                                         
                                                                                
SUBSCRIPTION_LOG                                                                
SYS_C00489126                                                                   
"USER_ID" IS NOT NULL                                                           

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TBCOMPONENT                                                                     
RG_NOPARTSREQ                                                                   
noPartsReq between 1 and 10                                                     
                                                                                
TBCOMPONENT                                                                     
RG_COMPNO                                                                       

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
compNo between '01' and '10'                                                    
                                                                                
TBCOMPONENT                                                                     
SYS_C00444871                                                                   
"NOPARTSREQ" IS NOT NULL                                                        
                                                                                
TBCOMPONENT                                                                     

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00444870                                                                   
"COMPNO" IS NOT NULL                                                            
                                                                                
TBCOMPONENT                                                                     
SYS_C00444869                                                                   
"PRODNO" IS NOT NULL                                                            
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
TBPART                                                                          
RG_QUANTITYONHAND                                                               
quantityOnHand between 1 and 1000                                               
                                                                                
TBPART                                                                          
RG_PARTNO                                                                       
partNo between '01' and '99'                                                    

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TBPART                                                                          
SYS_C00444865                                                                   
"QUANTITYONHAND" IS NOT NULL                                                    
                                                                                
TBPART                                                                          
SYS_C00444864                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"PARTDESCR" IS NOT NULL                                                         
                                                                                
TBPART                                                                          
SYS_C00444863                                                                   
"PARTNO" IS NOT NULL                                                            
                                                                                
TBPRODUCT                                                                       

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
RG_PRODNO                                                                       
prodNo between '100' and '199'                                                  
                                                                                
TBPRODUCT                                                                       
SYS_C00444854                                                                   
"PRODNO" IS NOT NULL                                                            
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
TBPRODUCT                                                                       
SYS_C00444856                                                                   
"SCHEDULE" IS NOT NULL                                                          
                                                                                
TBPRODUCT                                                                       
SYS_C00444855                                                                   
"PRODUCTNAME" IS NOT NULL                                                       

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TBPROJECT                                                                       
SYS_C00386902                                                                   
"PROJECTNO" IS NOT NULL                                                         
                                                                                
TBPROJECT                                                                       
SYS_C00386903                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"PROJDESCRIPTION" IS NOT NULL                                                   
                                                                                
TBQUOTE                                                                         
SYS_C00444879                                                                   
"PRICEQUOTE" IS NOT NULL                                                        
                                                                                
TBQUOTE                                                                         

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00444877                                                                   
"VENDORNO" IS NOT NULL                                                          
                                                                                
TBQUOTE                                                                         
SYS_C00444878                                                                   
"PARTNO" IS NOT NULL                                                            
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
TBQUOTE                                                                         
RG_PRICEQUOTE                                                                   
priceQuote >= 0.00                                                              
                                                                                
TBSHIPMENT                                                                      
SYS_C00444885                                                                   
"VENDORNO" IS NOT NULL                                                          

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TBSHIPMENT                                                                      
RG_QUANTITY                                                                     
quantity between 1 and 1000                                                     
                                                                                
TBSHIPMENT                                                                      
SYS_C00444886                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"PARTNO" IS NOT NULL                                                            
                                                                                
TBSHIPMENT                                                                      
SYS_C00444884                                                                   
"SHIPMENTNO" IS NOT NULL                                                        
                                                                                
TBSTAFF                                                                         

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
RG_SALARY                                                                       
salary > 18000                                                                  
                                                                                
TBSTAFF                                                                         
SYS_C00386907                                                                   
"SALARY" IS NOT NULL                                                            
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
TBSTAFF                                                                         
SYS_C00386905                                                                   
"STAFFID" IS NOT NULL                                                           
                                                                                
TBSTAFF                                                                         
SYS_C00386906                                                                   
"STAFFNAME" IS NOT NULL                                                         

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TBTASK                                                                          
SYS_C00386917                                                                   
"ESTDAYS" IS NOT NULL                                                           
                                                                                
TBTASK                                                                          
RG_TASKNO                                                                       

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
taskNo between '01' and '10'                                                    
                                                                                
TBTASK                                                                          
SYS_C00386916                                                                   
"TASKCODE" IS NOT NULL                                                          
                                                                                
TBTASK                                                                          

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00386915                                                                   
"TASKNO" IS NOT NULL                                                            
                                                                                
TBTASK                                                                          
SYS_C00386914                                                                   
"PROJECTNO" IS NOT NULL                                                         
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
TBTASKTYPE                                                                      
SYS_C00386911                                                                   
"TASKCODE" IS NOT NULL                                                          
                                                                                
TBTASKTYPE                                                                      
SYS_C00386912                                                                   
"TYPEOFTASK" IS NOT NULL                                                        

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TBTIMESHEET                                                                     
SYS_C00386923                                                                   
"TIMELOGNO" IS NOT NULL                                                         
                                                                                
TBTIMESHEET                                                                     
SYS_C00386924                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"PROJECTNO" IS NOT NULL                                                         
                                                                                
TBTIMESHEET                                                                     
SYS_C00386925                                                                   
"TASKNO" IS NOT NULL                                                            
                                                                                
TBVENDOR                                                                        

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00444860                                                                   
"VENDORNAME" IS NOT NULL                                                        
                                                                                
TBVENDOR                                                                        
SYS_C00444859                                                                   
"VENDORNO" IS NOT NULL                                                          
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
TBVENDOR                                                                        
RG_VENDORNO                                                                     
vendorNo between '100' and '999'                                                
                                                                                
TEST_SPATIAL                                                                    
SYS_C00465668                                                                   
"ID" IS NOT NULL                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                
TEST_SPATIAL                                                                    
SYS_C00465669                                                                   
"NAME_DESC" IS NOT NULL                                                         
                                                                                
USER_ACCOUNT                                                                    
SYS_C00489086                                                                   

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
"FIRST_NAME" IS NOT NULL                                                        
                                                                                
USER_ACCOUNT                                                                    
SYS_C00489087                                                                   
"LAST_NAME" IS NOT NULL                                                         
                                                                                
USER_ACCOUNT                                                                    

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
SYS_C00489088                                                                   
"USERNAME" IS NOT NULL                                                          
                                                                                
USER_ACCOUNT                                                                    
SYS_C00489089                                                                   
"EMAIL" IS NOT NULL                                                             
                                                                                

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
USER_ACCOUNT                                                                    
SYS_C00489090                                                                   
"USER_PASSWORD" IS NOT NULL                                                     
                                                                                
USER_ACCOUNT                                                                    
SYS_C00489085                                                                   
"USER_ID" IS NOT NULL                                                           

TABLE_NAME                                                                      
--------------------------------------------------------------------------------
CONSTRAINT_NAME                                                                 
--------------------------------------------------------------------------------
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
                                                                                

72 rows selected.

60-SQL> 
60-SQL> -- This next several tests will yield the following error which validates our constraint:
60-SQL> -- ORA-02290: check constraint violated
60-SQL> -- smell_type rg_smell_type between '01' - '03'
60-SQL> INSERT INTO smell_type VALUES ('00', 'Desc');
INSERT INTO smell_type VALUES ('00', 'Desc')
*
ERROR at line 1:
ORA-02290: check constraint (CMATEER.RG_SMELL_TYPE) violated 


60-SQL> INSERT INTO smell_type VALUES ('04', 'Desc');
INSERT INTO smell_type VALUES ('04', 'Desc')
*
ERROR at line 1:
ORA-02290: check constraint (CMATEER.RG_SMELL_TYPE) violated 


60-SQL> INSERT INTO smell_type VALUES ('1', 'Desc');
INSERT INTO smell_type VALUES ('1', 'Desc')
*
ERROR at line 1:
ORA-02290: check constraint (CMATEER.RG_SMELL_TYPE) violated 


60-SQL> 
60-SQL> -- This description is too long
60-SQL> INSERT INTO smell_type VALUES('01', 'Description is too long and will fail');
INSERT INTO smell_type VALUES('01', 'Description is too long and will fail')
                                    *
ERROR at line 1:
ORA-12899: value too large for column "CMATEER"."SMELL_TYPE"."TYPE_DESCRIPTION" 
(actual: 37, maximum: 7) 


60-SQL> 
60-SQL> -- smell_magnitude rg_smell_magnitude between '01' - '10'
60-SQL> INSERT INTO smell_magnitude VALUES ('1', 'Description', '0.1');

1 row created.

60-SQL> INSERT INTO smell_magnitude VALUES ('11', 'Description', '0.1');
INSERT INTO smell_magnitude VALUES ('11', 'Description', '0.1')
*
ERROR at line 1:
ORA-02290: check constraint (CMATEER.RG_SMELL_MAGNITUDE) violated 


60-SQL> 
60-SQL> -- Too much precision
60-SQL> INSERT INTO smell_magnitude VALUES ('01', 'Description', '0.1111111');
INSERT INTO smell_magnitude VALUES ('01', 'Description', '0.1111111')
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELL_MAGNITUDE) violated 


60-SQL> 
60-SQL> -- smell_type rg_smell_type_profile between '01' - '03'
60-SQL> DECLARE
  2  
  3  	 angel_id number(11, 0);
  4  	 adamo_id number(11, 0);
  5  	 kay_id number(11, 0);
  6  	 geanie_id number(11, 0);
  7  
  8  BEGIN
  9  
 10  	 SELECT user_id INTO angel_id FROM user_account WHERE first_name = 'Angel';
 11  	 SELECT user_id INTO adamo_id FROM user_account WHERE first_name = 'Adamo';
 12  	 SELECT user_id INTO kay_id FROM user_account WHERE first_name = 'Kay-Re';
 13  	 SELECT user_id INTO geanie_id FROM user_account WHERE first_name = 'Geanie';
 14  
 15  	 -- Solo
 16  	 new_smell_profile(angel_id, 37.55119634300007192, -77.47205794499996045, '1', '10', 'Basic Desc');
 17  
 18  	 -- smell_magnitude rg_smell_magnitude_profile between '01' - '10'
 19  	 new_smell_profile(angel_id, 37.55119634300007192, -77.47205794499996045, '01', '1', 'Basic Desc');
 20  
 21  
 22  END;
 23  /
This smell-profile failed to load, the geometry was possibly out of bounds - see
documentation for explaination.                                                 
This smell-profile failed to load, the geometry was possibly out of bounds - see
documentation for explaination.                                                 

PL/SQL procedure successfully completed.

60-SQL> 
60-SQL> 
60-SQL> 
60-SQL> /* Check entity integrity */
60-SQL> -- Ryan's pk_col script will list out all of the columns that are PKs so that we may use
60-SQL> -- them as reference when creating our test cases.  However, by convention, we have made it easy
60-SQL> -- to pick out our PKs by name.
60-SQL> column table_name format A15
60-SQL> column column_name format A25
60-SQL> column constraint_name format A30
60-SQL> select a.table_name, column_name, a.constraint_name
  2  from user_constraints a, user_cons_columns b
  3  where a.constraint_type='P'
  4  and a.constraint_name=b.constraint_name
  5  order by table_name;

TABLE_NAME      COLUMN_NAME               CONSTRAINT_NAME                       
--------------- ------------------------- ------------------------------        
COMMENT_LOG     COMMENT_ID                PK_COMMENT_LOG                        
SMELLSCAPE      FIPS_CODE                 PK_SMELLSCAPE                         
SMELL_MAGNITUDE MAGNITUDE_ID              PK_SMELL_MAGNITUDE                    
SMELL_PROFILE   USER_ID                   PK_SMELL_PROFILE                      
SMELL_PROFILE   FIPS_CODE                 PK_SMELL_PROFILE                      
SMELL_TYPE      TYPE_ID                   PK_SMELL_TYPE                         
SUBSCRIPTION_LO SUBSCRIPTION_ID           PK_SUBSCRIPTION_LOG                   
G                                                                               
                                                                                
TBCOMPONENT     PRODNO                    PK_COMPONENT                          
TBCOMPONENT     COMPNO                    PK_COMPONENT                          

TABLE_NAME      COLUMN_NAME               CONSTRAINT_NAME                       
--------------- ------------------------- ------------------------------        
TBPART          PARTNO                    PK_PART                               
TBPRODUCT       PRODNO                    PK_PRODUCT                            
TBPROJECT       PROJECTNO                 PK_PROJECT                            
TBQUOTE         VENDORNO                  PK_QUOTE                              
TBQUOTE         PARTNO                    PK_QUOTE                              
TBSHIPMENT      SHIPMENTNO                PK_SHIPMENT                           
TBSTAFF         STAFFID                   PK_STAFF                              
TBTASK          TASKNO                    PK_TASK                               
TBTASK          PROJECTNO                 PK_TASK                               
TBTASKTYPE      TASKCODE                  PK_TASKTYPE                           
TBTIMESHEET     TIMELOGNO                 PK_TIMESHEET                          

TABLE_NAME      COLUMN_NAME               CONSTRAINT_NAME                       
--------------- ------------------------- ------------------------------        
TBVENDOR        VENDORNO                  PK_VENDOR                             
TEST_SPATIAL    ID                        SYS_C00465671                         
USER_ACCOUNT    USER_ID                   PK_USER_ACCOUNT                       

23 rows selected.

60-SQL> 
60-SQL> -- Try duplicate and null on each PK
60-SQL> -- This will succeed
60-SQL> /* User */
60-SQL> INSERT INTO user_account VALUES (5, 'test', 'test', 'test', 'test', 'test');

1 row created.

60-SQL> -- This will fail
60-SQL> INSERT INTO user_account VALUES (5, 'test', 'test', 'test', 'test', 'test');

1 row created.

60-SQL> INSERT INTO user_account VALUES (NULL, 'test', 'test', 'test', 'test', 'test');

1 row created.

60-SQL> -- Removing
60-SQL> DELETE FROM user_account WHERE user_id = 5;

1 row deleted.

60-SQL> 
60-SQL> /* Smell Type */
60-SQL> -- This will succeed (or fail depending on if it has been loaded before or after smell_map_load.sql)
60-SQL> INSERT INTO smell_type VALUES ('01', 'Desc');
INSERT INTO smell_type VALUES ('01', 'Desc')
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELL_TYPE) violated 


60-SQL> -- This will fail
60-SQL> INSERT INTO smell_type VALUES ('01', 'Desc');
INSERT INTO smell_type VALUES ('01', 'Desc')
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELL_TYPE) violated 


60-SQL> INSERT INTO smell_type VALUES (NULL, 'Desc');
INSERT INTO smell_type VALUES (NULL, 'Desc')
                               *
ERROR at line 1:
ORA-01400: cannot insert NULL into ("CMATEER"."SMELL_TYPE"."TYPE_ID") 


60-SQL> -- Removing
60-SQL> DELETE FROM smell_type WHERE type_id = '01';
DELETE FROM smell_type WHERE type_id = '01'
            *
ERROR at line 1:
ORA-01407: cannot update ("CMATEER"."SMELL_PROFILE"."TYPE_ID") to NULL 


60-SQL> 
60-SQL> /* Smell Magnitude */
60-SQL> -- This will succeed (or fail depending on if it has been loaded before or after smell_map_load.sql)
60-SQL> INSERT INTO smell_magnitude VALUES ('01', 'Desc', 0.1);
INSERT INTO smell_magnitude VALUES ('01', 'Desc', 0.1)
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELL_MAGNITUDE) violated 


60-SQL> -- This will fail
60-SQL> INSERT INTO smell_magnitude VALUES ('01', 'Desc', 0.1);
INSERT INTO smell_magnitude VALUES ('01', 'Desc', 0.1)
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELL_MAGNITUDE) violated 


60-SQL> INSERT INTO smell_magnitude VALUES (NULL, 'Desc', 0.1);
INSERT INTO smell_magnitude VALUES (NULL, 'Desc', 0.1)
                                    *
ERROR at line 1:
ORA-01400: cannot insert NULL into ("CMATEER"."SMELL_MAGNITUDE"."MAGNITUDE_ID") 


60-SQL> -- Removing
60-SQL> DELETE FROM smell_magnitude WHERE magnitude_id = '01';

1 row deleted.

60-SQL> 
60-SQL> /* Smellscape */
60-SQL> -- These will fail due to duplicates
60-SQL> INSERT INTO smellscape VALUES ('517600102003036', SDO_UTIL.FROM_WKTGEOMETRY ('MULTIPOLYGON (((-77.466233350999971 37.58788650200006, -77.466154349999954 37.587762501000043, -77.466038349999963 37.58761250200007, -77.465909350999937 37.587459502000058, -77.465828349999981 37.587396502000047, -77.465710349999938 37.587406502000078, -77.465637349999952 37.587437502000057, -77.465336349999973 37.58757150200006, -77.465314350999961 37.587654501000031, -77.465330349999988 37.587776502000054, -77.465370349999944 37.587881502000073, -77.465407349999964 37.588124502000028, -77.465417349999939 37.588245502000063, -77.465414349999946 37.589355502000046, -77.465442349999989 37.589658502000077, -77.465490349999982 37.589780502000053, -77.465643350999983 37.589961502000051, -77.465796349999948 37.590106502000026, -77.465869349999934 37.590165502000048, -77.465944349999972 37.590203502000065, -77.46603534999997 37.590211502000045, -77.466141349999987 37.590196502000026, -77.466197349999959 37.590182502000062, -77.466317350999987 37.590155503000062, -77.466629350999938 37.59007450200005, -77.466761349999956 37.590036502000032, -77.466964350999945 37.589965502000041, -77.467017349999935 37.589952502000074, -77.467075349999959 37.589945502000035, -77.467122350999944 37.589961502000051, -77.467155350999974 37.589983502000052, -77.467196350999984 37.59002950200005, -77.467234349999956 37.59010750200008, -77.46727735099995 37.59003750200003, -77.46733734999998 37.590001502000064, -77.467342350999957 37.589999503000058, -77.467462349999948 37.589962502000049, -77.467659350999952 37.589883502000077, -77.467727350999951 37.589853503000029, -77.467784350999978 37.589828502000046, -77.467842349999955 37.589803502000052, -77.467925350999963 37.589757502000055, -77.46796335099998 37.589736502000051, -77.468086350999954 37.589633502000027, -77.468091350999941 37.589630502000034, -77.468144350999978 37.589551502000063, -77.468206350999935 37.58933950200003, -77.468210350999982 37.58923750200006, -77.468165351999971 37.58914350200007, -77.468117349999943 37.589075502000071, -77.468001350999941 37.588909502000035, -77.467260350999936 37.58762050200005, -77.466733350999959 37.587660502000062, -77.466233350999971 37.58788650200006)))'));
INSERT INTO smellscape VALUES ('517600102003036', SDO_UTIL.FROM_WKTGEOMETRY ('MULTIPOLYGON (((-77.466233350999971 37.58788650200006, -77.466154349999954 37.587762501000043, -77.466038349999963 37.58761250200007, -77.465909350999937 37.587459502000058, -77.465828349999981 37.587396502000047, -77.465710349999938 37.587406502000078, -77.465637349999952 37.587437502000057, -77.465336349999973 37.58757150200006, -77.465314350999961 37.587654501000031, -77.465330349999988 37.587776502000054, -77.465370349999944 37.587881502000073, -77.465407349999964 37.588124502000028, -77.465417349999939 37.588245502000063, -77.465414349999946 37.589355502000046, -77.465442349999989 37.589658502000077, -77.465490349999982 37.589780502000053, -77.465643350999983 37.589961502000051, -77.465796349999948 37.590106502000026, -77.465869349999934 37.590165502000048, -77.465944349999972 37.590203502000065, -77.46603534999997 37.590211502000045, -77.466141349999987 37.590196502000026, -77.466197349999959 37.590182502000062, -77.466317350999987 37.590155503000062, -77.466629350999938 37.59007450200005, -77.466761349999956 37.590036502000032, -77.466964350999945 37.589965502000041, -77.467017349999935 37.589952502000074, -77.467075349999959 37.589945502000035, -77.467122350999944 37.589961502000051, -77.467155350999974 37.589983502000052, -77.467196350999984 37.59002950200005, -77.467234349999956 37.59010750200008, -77.46727735099995 37.59003750200003, -77.46733734999998 37.590001502000064, -77.467342350999957 37.589999503000058, -77.467462349999948 37.589962502000049, -77.467659350999952 37.589883502000077, -77.467727350999951 37.589853503000029, -77.467784350999978 37.589828502000046, -77.467842349999955 37.589803502000052, -77.467925350999963 37.589757502000055, -77.46796335099998 37.589736502000051, -77.468086350999954 37.589633502000027, -77.468091350999941 37.589630502000034, -77.468144350999978 37.589551502000063, -77.468206350999935 37.58933950200003, -77.468210350999982 37.58923750200006, -77.468165351999971 37.58914350200007, -77.468117349999943 37.589075502000071, -77.468001350999941 37.588909502000035, -77.467260350999936 37.58762050200005, -77.466733350999959 37.587660502000062, -77.466233350999971 37.58788650200006)))'))
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELLSCAPE) violated 


60-SQL> INSERT INTO smellscape VALUES ('517600102003036', SDO_UTIL.FROM_WKTGEOMETRY ('MULTIPOLYGON (((-77.466233350999971 37.58788650200006, -77.466154349999954 37.587762501000043, -77.466038349999963 37.58761250200007, -77.465909350999937 37.587459502000058, -77.465828349999981 37.587396502000047, -77.465710349999938 37.587406502000078, -77.465637349999952 37.587437502000057, -77.465336349999973 37.58757150200006, -77.465314350999961 37.587654501000031, -77.465330349999988 37.587776502000054, -77.465370349999944 37.587881502000073, -77.465407349999964 37.588124502000028, -77.465417349999939 37.588245502000063, -77.465414349999946 37.589355502000046, -77.465442349999989 37.589658502000077, -77.465490349999982 37.589780502000053, -77.465643350999983 37.589961502000051, -77.465796349999948 37.590106502000026, -77.465869349999934 37.590165502000048, -77.465944349999972 37.590203502000065, -77.46603534999997 37.590211502000045, -77.466141349999987 37.590196502000026, -77.466197349999959 37.590182502000062, -77.466317350999987 37.590155503000062, -77.466629350999938 37.59007450200005, -77.466761349999956 37.590036502000032, -77.466964350999945 37.589965502000041, -77.467017349999935 37.589952502000074, -77.467075349999959 37.589945502000035, -77.467122350999944 37.589961502000051, -77.467155350999974 37.589983502000052, -77.467196350999984 37.59002950200005, -77.467234349999956 37.59010750200008, -77.46727735099995 37.59003750200003, -77.46733734999998 37.590001502000064, -77.467342350999957 37.589999503000058, -77.467462349999948 37.589962502000049, -77.467659350999952 37.589883502000077, -77.467727350999951 37.589853503000029, -77.467784350999978 37.589828502000046, -77.467842349999955 37.589803502000052, -77.467925350999963 37.589757502000055, -77.46796335099998 37.589736502000051, -77.468086350999954 37.589633502000027, -77.468091350999941 37.589630502000034, -77.468144350999978 37.589551502000063, -77.468206350999935 37.58933950200003, -77.468210350999982 37.58923750200006, -77.468165351999971 37.58914350200007, -77.468117349999943 37.589075502000071, -77.468001350999941 37.588909502000035, -77.467260350999936 37.58762050200005, -77.466733350999959 37.587660502000062, -77.466233350999971 37.58788650200006)))'));
INSERT INTO smellscape VALUES ('517600102003036', SDO_UTIL.FROM_WKTGEOMETRY ('MULTIPOLYGON (((-77.466233350999971 37.58788650200006, -77.466154349999954 37.587762501000043, -77.466038349999963 37.58761250200007, -77.465909350999937 37.587459502000058, -77.465828349999981 37.587396502000047, -77.465710349999938 37.587406502000078, -77.465637349999952 37.587437502000057, -77.465336349999973 37.58757150200006, -77.465314350999961 37.587654501000031, -77.465330349999988 37.587776502000054, -77.465370349999944 37.587881502000073, -77.465407349999964 37.588124502000028, -77.465417349999939 37.588245502000063, -77.465414349999946 37.589355502000046, -77.465442349999989 37.589658502000077, -77.465490349999982 37.589780502000053, -77.465643350999983 37.589961502000051, -77.465796349999948 37.590106502000026, -77.465869349999934 37.590165502000048, -77.465944349999972 37.590203502000065, -77.46603534999997 37.590211502000045, -77.466141349999987 37.590196502000026, -77.466197349999959 37.590182502000062, -77.466317350999987 37.590155503000062, -77.466629350999938 37.59007450200005, -77.466761349999956 37.590036502000032, -77.466964350999945 37.589965502000041, -77.467017349999935 37.589952502000074, -77.467075349999959 37.589945502000035, -77.467122350999944 37.589961502000051, -77.467155350999974 37.589983502000052, -77.467196350999984 37.59002950200005, -77.467234349999956 37.59010750200008, -77.46727735099995 37.59003750200003, -77.46733734999998 37.590001502000064, -77.467342350999957 37.589999503000058, -77.467462349999948 37.589962502000049, -77.467659350999952 37.589883502000077, -77.467727350999951 37.589853503000029, -77.467784350999978 37.589828502000046, -77.467842349999955 37.589803502000052, -77.467925350999963 37.589757502000055, -77.46796335099998 37.589736502000051, -77.468086350999954 37.589633502000027, -77.468091350999941 37.589630502000034, -77.468144350999978 37.589551502000063, -77.468206350999935 37.58933950200003, -77.468210350999982 37.58923750200006, -77.468165351999971 37.58914350200007, -77.468117349999943 37.589075502000071, -77.468001350999941 37.588909502000035, -77.467260350999936 37.58762050200005, -77.466733350999959 37.587660502000062, -77.466233350999971 37.58788650200006)))'))
*
ERROR at line 1:
ORA-00001: unique constraint (CMATEER.PK_SMELLSCAPE) violated 


60-SQL> -- This will fail due to nulls
60-SQL> INSERT INTO smellscape VALUES (NULL, SDO_UTIL.FROM_WKTGEOMETRY ('MULTIPOLYGON (((-77.466233350999971 37.58788650200006, -77.466154349999954 37.587762501000043, -77.466038349999963 37.58761250200007, -77.465909350999937 37.587459502000058, -77.465828349999981 37.587396502000047, -77.465710349999938 37.587406502000078, -77.465637349999952 37.587437502000057, -77.465336349999973 37.58757150200006, -77.465314350999961 37.587654501000031, -77.465330349999988 37.587776502000054, -77.465370349999944 37.587881502000073, -77.465407349999964 37.588124502000028, -77.465417349999939 37.588245502000063, -77.465414349999946 37.589355502000046, -77.465442349999989 37.589658502000077, -77.465490349999982 37.589780502000053, -77.465643350999983 37.589961502000051, -77.465796349999948 37.590106502000026, -77.465869349999934 37.590165502000048, -77.465944349999972 37.590203502000065, -77.46603534999997 37.590211502000045, -77.466141349999987 37.590196502000026, -77.466197349999959 37.590182502000062, -77.466317350999987 37.590155503000062, -77.466629350999938 37.59007450200005, -77.466761349999956 37.590036502000032, -77.466964350999945 37.589965502000041, -77.467017349999935 37.589952502000074, -77.467075349999959 37.589945502000035, -77.467122350999944 37.589961502000051, -77.467155350999974 37.589983502000052, -77.467196350999984 37.59002950200005, -77.467234349999956 37.59010750200008, -77.46727735099995 37.59003750200003, -77.46733734999998 37.590001502000064, -77.467342350999957 37.589999503000058, -77.467462349999948 37.589962502000049, -77.467659350999952 37.589883502000077, -77.467727350999951 37.589853503000029, -77.467784350999978 37.589828502000046, -77.467842349999955 37.589803502000052, -77.467925350999963 37.589757502000055, -77.46796335099998 37.589736502000051, -77.468086350999954 37.589633502000027, -77.468091350999941 37.589630502000034, -77.468144350999978 37.589551502000063, -77.468206350999935 37.58933950200003, -77.468210350999982 37.58923750200006, -77.468165351999971 37.58914350200007, -77.468117349999943 37.589075502000071, -77.468001350999941 37.588909502000035, -77.467260350999936 37.58762050200005, -77.466733350999959 37.587660502000062, -77.466233350999971 37.58788650200006)))'));
INSERT INTO smellscape VALUES (NULL, SDO_UTIL.FROM_WKTGEOMETRY ('MULTIPOLYGON (((-77.466233350999971 37.58788650200006, -77.466154349999954 37.587762501000043, -77.466038349999963 37.58761250200007, -77.465909350999937 37.587459502000058, -77.465828349999981 37.587396502000047, -77.465710349999938 37.587406502000078, -77.465637349999952 37.587437502000057, -77.465336349999973 37.58757150200006, -77.465314350999961 37.587654501000031, -77.465330349999988 37.587776502000054, -77.465370349999944 37.587881502000073, -77.465407349999964 37.588124502000028, -77.465417349999939 37.588245502000063, -77.465414349999946 37.589355502000046, -77.465442349999989 37.589658502000077, -77.465490349999982 37.589780502000053, -77.465643350999983 37.589961502000051, -77.465796349999948 37.590106502000026, -77.465869349999934 37.590165502000048, -77.465944349999972 37.590203502000065, -77.46603534999997 37.590211502000045, -77.466141349999987 37.590196502000026, -77.466197349999959 37.590182502000062, -77.466317350999987 37.590155503000062, -77.466629350999938 37.59007450200005, -77.466761349999956 37.590036502000032, -77.466964350999945 37.589965502000041, -77.467017349999935 37.589952502000074, -77.467075349999959 37.589945502000035, -77.467122350999944 37.589961502000051, -77.467155350999974 37.589983502000052, -77.467196350999984 37.59002950200005, -77.467234349999956 37.59010750200008, -77.46727735099995 37.59003750200003, -77.46733734999998 37.590001502000064, -77.467342350999957 37.589999503000058, -77.467462349999948 37.589962502000049, -77.467659350999952 37.589883502000077, -77.467727350999951 37.589853503000029, -77.467784350999978 37.589828502000046, -77.467842349999955 37.589803502000052, -77.467925350999963 37.589757502000055, -77.46796335099998 37.589736502000051, -77.468086350999954 37.589633502000027, -77.468091350999941 37.589630502000034, -77.468144350999978 37.589551502000063, -77.468206350999935 37.58933950200003, -77.468210350999982 37.58923750200006, -77.468165351999971 37.58914350200007, -77.468117349999943 37.589075502000071, -77.468001350999941 37.588909502000035, -77.467260350999936 37.58762050200005, -77.466733350999959 37.587660502000062, -77.466233350999971 37.58788650200006)))'))
                               *
ERROR at line 1:
ORA-01400: cannot insert NULL into ("CMATEER"."SMELLSCAPE"."FIPS_CODE") 


60-SQL> 
60-SQL> /* Smell Profile */
60-SQL> DECLARE
  2  
  3  	 angel_id number(11, 0);
  4  	 adamo_id number(11, 0);
  5  	 kay_id number(11, 0);
  6  	 geanie_id number(11, 0);
  7  
  8  BEGIN
  9  	 -- This portion depends on smell_map_load.sql already having been run.
 10  	 SELECT user_id INTO angel_id FROM user_account WHERE first_name = 'Angel';
 11  	 SELECT user_id INTO adamo_id FROM user_account WHERE first_name = 'Adamo';
 12  	 SELECT user_id INTO kay_id FROM user_account WHERE first_name = 'Kay-Re';
 13  	 SELECT user_id INTO geanie_id FROM user_account WHERE first_name = 'Geanie';
 14  
 15  	 -- This is a repeat and will fail
 16  	 new_smell_profile(angel_id, 37.55119634300007192, -77.47205794499996045, '01', '10', 'Basic Desc');
 17  
 18  	 -- This will fail due to nulls
 19  	 new_smell_profile(NULL, 37.55119634300007192, -77.47205794499996045, '01', '10', 'Basic Desc');
 20  
 21  END;
 22  /
This smell-profile failed to load, the geometry was possibly out of bounds - see
documentation for explaination.                                                 
This smell-profile failed to load, the geometry was possibly out of bounds - see
documentation for explaination.                                                 

PL/SQL procedure successfully completed.

60-SQL> 
60-SQL> /* Comment Log */
60-SQL> -- This will fail due to duplicates
60-SQL> INSERT INTO comment_log (1, 1, '517600102003036', '01-NOV-17', desc);
INSERT INTO comment_log (1, 1, '517600102003036', '01-NOV-17', desc)
                         *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> INSERT INTO comment_log (1, 1, '517600102003036', '01-NOV-17', desc);
INSERT INTO comment_log (1, 1, '517600102003036', '01-NOV-17', desc)
                         *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> -- This will fail due to nulls
60-SQL> INSERT INTO comment_log (NULL, 1, '517600102003036', '01-NOV-17', desc);
INSERT INTO comment_log (NULL, 1, '517600102003036', '01-NOV-17', desc)
                         *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> 
60-SQL> /* Subscription Log */
60-SQL> -- This will fail due to duplicates
60-SQL> INSERT INTO subscription_log (1, 1, '517600102003036', '01-NOV-17');
INSERT INTO subscription_log (1, 1, '517600102003036', '01-NOV-17')
                              *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> INSERT INTO subscription_log (1, 1, '517600102003036', '01-NOV-17');
INSERT INTO subscription_log (1, 1, '517600102003036', '01-NOV-17')
                              *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> -- This will fail due to nulls
60-SQL> INSERT INTO subscription_log (NULL, 1, '517600102003036', '01-NOV-17');
INSERT INTO subscription_log (NULL, 1, '517600102003036', '01-NOV-17')
                              *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> 
60-SQL> 
60-SQL> 
60-SQL> 
60-SQL> /* Check referential integrity */
60-SQL> -- Ryan's fk_col script will show us which FK constraints we have and the constraint name
60-SQL> -- along with associated reference column.  This information will help us build our test cases.
60-SQL> column table_name format A15
60-SQL> column constraint_name format A30
60-SQL> column column_name format A30
60-SQL> select a.table_name, a.constraint_name, column_name
  2  from user_constraints a, user_cons_columns b
  3  where a.constraint_type='R'
  4  and a.constraint_name=b.constraint_name
  5  order by table_name, a.constraint_name;

TABLE_NAME      CONSTRAINT_NAME                COLUMN_NAME                      
--------------- ------------------------------ ------------------------------   
COMMENT_LOG     FK_FIPS_CODE_COMMENT_LOG       FIPS_CODE                        
COMMENT_LOG     FK_USER_ID_COMMENT_LOG         USER_ID                          
SMELL_PROFILE   FK_FIPS_CODE_SMELL_PROFILE     FIPS_CODE                        
SMELL_PROFILE   FK_MAGNITUDE_ID_SMELL_PROFILE  MAGNITUDE_ID                     
SMELL_PROFILE   FK_TYPE_ID_SMELL_PROFILE       TYPE_ID                          
SMELL_PROFILE   FK_USER_ID_SMELL_PROFILE       USER_ID                          
SUBSCRIPTION_LO FK_FIPS_CODE_SUBSCRIPTION_LOG  FIPS_CODE                        
G                                                                               
                                                                                
SUBSCRIPTION_LO FK_USER_ID_SUBSCRIPTION_LOG    USER_ID                          
G                                                                               

TABLE_NAME      CONSTRAINT_NAME                COLUMN_NAME                      
--------------- ------------------------------ ------------------------------   
                                                                                
TBCOMPONENT     FK_PARTNO_TBCOMPONENT          PARTNO                           
TBCOMPONENT     FK_PRODNO_TBCOMPONENT          PRODNO                           
TBQUOTE         FK_PARTNO_TBQUOTE              PARTNO                           
TBQUOTE         FK_VENDORNO_TBQUOTE            VENDORNO                         
TBSHIPMENT      FK_VENDORNO_PARTNO_TBSHIPMENT  VENDORNO                         
TBSHIPMENT      FK_VENDORNO_PARTNO_TBSHIPMENT  PARTNO                           
TBSTAFF         FK_MGRID_TBSTAFF               MGRID                            
TBTASK          FK_PROJECTNO_TBTASK            PROJECTNO                        
TBTASK          FK_STAFFID_TBTASK              STAFFID                          
TBTASK          FK_TASKCODE_TBTASK             TASKCODE                         

TABLE_NAME      CONSTRAINT_NAME                COLUMN_NAME                      
--------------- ------------------------------ ------------------------------   
TBTIMESHEET     FK_PROJNO_TASKNO_TBTSHEET      PROJECTNO                        
TBTIMESHEET     FK_PROJNO_TASKNO_TBTSHEET      TASKNO                           
TBTIMESHEET     FK_STAFFID_TBTIMESHEET         STAFFID                          

21 rows selected.

60-SQL> 
60-SQL> -- Test adding a FK that does not correspond to a PK.
60-SQL> /* Smell Profile */
60-SQL> -- This will fail as there is no Smellscape with this FIPS
60-SQL> INSERT INTO smell_profile VALUES ('1111111111', 1, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '01', '01', 'Desc');
INSERT INTO smell_profile VALUES ('1111111111', 1, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '01', '01', 'Desc')
                                                                                                *
ERROR at line 1:
ORA-29532: Java call terminated by uncaught Java exception: 
java.sql.SQLException: Malformed WKT 
ORA-06512: at "MDSYS.SDO_JAVA_STP", line 59 
ORA-06512: at "MDSYS.SDO_UTIL", line 4773 
ORA-06512: at "MDSYS.SDO_GEOMETRY", line 76 
ORA-06512: at line 1 


60-SQL> -- This will fail as there is no smell type with that ID
60-SQL> INSERT INTO smell_profile VALUES ('517600102003036', 4, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '11', '01', 'Desc');
INSERT INTO smell_profile VALUES ('517600102003036', 4, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '11', '01', 'Desc')
                                                                                                     *
ERROR at line 1:
ORA-29532: Java call terminated by uncaught Java exception: 
java.sql.SQLException: Malformed WKT 
ORA-06512: at "MDSYS.SDO_JAVA_STP", line 59 
ORA-06512: at "MDSYS.SDO_UTIL", line 4773 
ORA-06512: at "MDSYS.SDO_GEOMETRY", line 76 
ORA-06512: at line 1 


60-SQL> -- This will fail as there is no smell magnitude with that ID
60-SQL> INSERT INTO smell_profile VALUES ('517600102003036', 4, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '01', '11', 'Desc');
INSERT INTO smell_profile VALUES ('517600102003036', 4, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '01', '11', 'Desc')
                                                                                                     *
ERROR at line 1:
ORA-29532: Java call terminated by uncaught Java exception: 
java.sql.SQLException: Malformed WKT 
ORA-06512: at "MDSYS.SDO_JAVA_STP", line 59 
ORA-06512: at "MDSYS.SDO_UTIL", line 4773 
ORA-06512: at "MDSYS.SDO_GEOMETRY", line 76 
ORA-06512: at line 1 


60-SQL> -- This will fail as there is no user with this ID
60-SQL> INSERT INTO smell_profile VALUES ('517600102003036', 10, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '01', '01', 'Desc');
INSERT INTO smell_profile VALUES ('517600102003036', 10, 37.55119634300007192, -77.47205794499996045, SDO_GEOMETRY('POINT (-77.47205794499996045, 37.55119634300007192)', 8307), '01', '01', 'Desc')
                                                                                                      *
ERROR at line 1:
ORA-29532: Java call terminated by uncaught Java exception: 
java.sql.SQLException: Malformed WKT 
ORA-06512: at "MDSYS.SDO_JAVA_STP", line 59 
ORA-06512: at "MDSYS.SDO_UTIL", line 4773 
ORA-06512: at "MDSYS.SDO_GEOMETRY", line 76 
ORA-06512: at line 1 


60-SQL> 
60-SQL> 
60-SQL> /* Comment Log */
60-SQL> -- This will fail as there is no user with this ID
60-SQL> INSERT INTO comment_log (1, 10, '517600102003036', '01-NOV-17', desc);
INSERT INTO comment_log (1, 10, '517600102003036', '01-NOV-17', desc)
                         *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> -- This will fail as there is no Smellscape with this FIPS
60-SQL> INSERT INTO comment_log (1, 2, '1111111111', '01-NOV-17', desc);
INSERT INTO comment_log (1, 2, '1111111111', '01-NOV-17', desc)
                         *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> 
60-SQL> 
60-SQL> /* Subscription Log */
60-SQL> -- This will fail as there is no user with this ID
60-SQL> INSERT INTO subscription_log (1, 10, '517600102003036', '01-NOV-17');
INSERT INTO subscription_log (1, 10, '517600102003036', '01-NOV-17')
                              *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> -- This will fail as there is no Smellscape with this FIPS
60-SQL> INSERT INTO subscription_log (1, 2, '1111111111', '01-NOV-17');
INSERT INTO subscription_log (1, 2, '1111111111', '01-NOV-17')
                              *
ERROR at line 1:
ORA-00928: missing SELECT keyword 


60-SQL> 
60-SQL> 
60-SQL> -- Attempt to delete a parent record before the associated default FK record.
60-SQL> /* Imapcts Smell Profile, Comment Log, and Subscription Log */
60-SQL> DELETE FROM user_account WHERE user_id = 1;
DELETE FROM user_account WHERE user_id = 1
            *
ERROR at line 1:
ORA-01407: cannot update ("CMATEER"."SMELL_PROFILE"."USER_ID") to NULL 


60-SQL> 
60-SQL> /* Imapcts Smell Profile, Comment Log, and Subscription Log */
60-SQL> DELETE FROM smellscape WHERE fips_code = '517600107002002';

1 row deleted.

60-SQL> 
60-SQL> /* Impacts Smell Profile */
60-SQL> DELETE FROM smell_type WHERE type_id = '01';
DELETE FROM smell_type WHERE type_id = '01'
            *
ERROR at line 1:
ORA-01407: cannot update ("CMATEER"."SMELL_PROFILE"."TYPE_ID") to NULL 


60-SQL> DELETE FROM smell_magnitude WHERE magnitude_id = '01';

0 rows deleted.

60-SQL> 
60-SQL> 
60-SQL> -- ******************************************************
60-SQL> --    END SESSION
60-SQL> -- ******************************************************
60-SQL> 
60-SQL> spool off
